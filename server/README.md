# Server API

## Login / Signup
#### POST API
- `/login`: login with `username` and `password`, server return a token to user to call api
- `/signup`: signup with `username` and `password`

Post API here require:
- `username` and `password` in body data

### All API below require token generated by `login` in headers to call

## User
#### GET API
- `/api/v1/user/<user_id>`: get user by id

#### DELETE API
- `/api/v1/user/<user_id>`: delete user by id

#### PUT API
- `/api/v1/user/<user_id>`: update user home

## Device
#### GET API:
- `/api/v1/device/<device_id>`: get device by ID
- `/api/v1/device`: get all devices
- `/api/v2/device/<device_id>`: get device by ID (also include log data)
- `/api/v2/device`: get all devices (also include log data)
- `/api/v3/device/home/<home_id>`: get devices by `home_id`
- `/api/v3/device/home/<room_id>`: get devices by `room_id`
- `/api/v4/device/home/<home_id>`: get devices by `home_id` (also include log data)
- `/api/v4/device/home/<room_id>`: get devices by `room_id` (also include log data)

#### PUT API
- `api/v1/device/<device_id>`: update device data

Put API here require:
- `data` in body data to update device data in database

#### POST API
- `api/v1/device`: insert new device to database

Post API here require:
- `home_id`, `room_id` and `type` in body data to create new device in database

#### DELETE API
- `api/v1/device/<device_id>`: delete device in database

## Home
#### GET API
- `/api/v1/home`: get all homes
- `/api/v1/home/<home_id>`: get home by id

#### POST API
- `/api/v1/home`: add new home to database

Post API here require:
- `name` in body data to create new home in database

#### DELETE API
- `/api/v1/home/<home_id>`: delete home by id

## Room
#### GET API
- `/api/v1/room`: get all rooms
- `/api/v1/room/<room_id>`: get room by id
- `/api/v2/room/home/<home_id>`: get all rooms by `home_id`

#### POST API
- `/api/v1/room`: add new room to database

Post API here require:
- `home_id` in body data to create new room in database

#### DELETE API
- `/api/v1/room/<room_id>`: delete room by id


